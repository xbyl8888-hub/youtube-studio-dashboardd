<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Studio Dashboard - è‡ªå®šä¹‰æ”¶ç›Šé¢æ¿</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <style>
        /* å…¨å±€æ ·å¼ - å¤åˆ»YouTube Studioç•Œé¢ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', Arial, sans-serif;
        }
        body {
            background-color: #f9f9f9;
            color: #202124;
            font-size: 14px;
        }
        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background-color: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
            font-size: 18px;
            color: #ff0000;
        }
        .navbar-logo svg {
            width: 24px;
            height: 24px;
        }
        .navbar-search {
            flex: 1;
            max-width: 600px;
            position: relative;
        }
        .navbar-search input {
            width: 100%;
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
        }
        .navbar-menu {
            display: flex;
            gap: 16px;
        }
        .navbar-menu a {
            text-decoration: none;
            color: #5f6368;
            padding: 8px 0;
            border-bottom: 2px solid transparent;
        }
        .navbar-menu a.active {
            color: #1a73e8;
            border-bottom: 2px solid #1a73e8;
            font-weight: 500;
        }
        /* å¤´åƒæ ·å¼ä¼˜åŒ– - æ–°å¢ */
        .navbar-profile-container {
            position: relative;
            cursor: pointer;
        }
        .navbar-profile {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover; /* ä¿è¯å›¾ç‰‡ä¸æ‹‰ä¼¸ */
            border: 1px solid #eee;
        }
        /* å¤´åƒä¸Šä¼ æŒ‰é’®æ ·å¼ - æ–°å¢ */
        .profile-upload-btn {
            display: none;
            position: absolute;
            top: 40px;
            right: 0;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
        }
        .navbar-profile-container:hover .profile-upload-btn {
            display: block;
        }
        #profile-input {
            display: none;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
        }

        /* æ ‡ç­¾é¡µåˆ‡æ¢ï¼ˆæ•´åˆä¸¤ä¸ªé¢æ¿ï¼‰ */
        .tab-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
        }
        .tab-btn {
            padding: 16px 24px;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: 500;
            color: #5f6368;
            cursor: pointer;
        }
        .tab-btn.active {
            color: #1a73e8;
            border-bottom: 2px solid #1a73e8;
        }
        .tab-content {
            padding: 24px;
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        /* æ”¶ç›Šæ¦‚è§ˆå¡ç‰‡ */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        .summary-card {
            background-color: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .summary-card .label {
            color: #5f6368;
            font-size: 12px;
            margin-bottom: 8px;
        }
        .summary-card .value {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        .summary-card .unit {
            color: #5f6368;
            font-size: 12px;
        }
        .summary-card .edit-btn {
            margin-top: 8px;
            padding: 4px 8px;
            font-size: 12px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        /* æ—¶é—´ç­›é€‰å™¨ */
        .time-filter {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }
        .time-filter label {
            font-weight: 500;
        }
        .time-filter input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .time-filter button {
            padding: 8px 16px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            margin-bottom: 24px;
            height: 400px;
        }

        /* æ”¶ç›Šæ¥æºé¢æ¿ */
        .revenue-sources {
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .revenue-sources h3 {
            margin-bottom: 16px;
            font-size: 18px;
        }
        .revenue-source-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .revenue-source-item .name {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .revenue-source-item .icon {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            background-color: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .revenue-source-item .value {
            font-weight: 500;
        }

        /* å¼¹çª—æ ·å¼ï¼ˆä¿®æ”¹é‡‘é¢ç”¨ï¼‰ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            width: 400px;
        }
        .modal-content h3 {
            margin-bottom: 16px;
        }
        .modal-content input {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .modal-buttons {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }
        .modal-buttons button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .modal-save {
            background-color: #1a73e8;
            color: white;
        }
        .modal-cancel {
            background-color: #eee;
            color: #5f6368;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="navbar">
        <div class="navbar-logo">
            <svg viewBox="0 0 24 24" fill="#ff0000">
                <path d="M23.495 6.205a1.507 1.507 0 0 0-1.06-.998c-.01-.001-.021-.002-.031-.002H10.353c-.01 0-.021.001-.031.002a1.507 1.507 0 0 0-1.06.998 15.082 15.082 0 0 0-4.584 8.385c-.002.01-.003.02-.003.03v1.222c0 .01.001.02.003.03 1.454 4.337 5.873 7.57 10.918 7.57 5.045 0 9.464-3.233 10.918-7.57.002-.01.003-.02.003-.03v-1.222c0-.01-.001-.02-.003-.03 1.407-4.124 1.41-8.371-.002-8.385zM9.609 15.601V8.208l6.264 3.696-6.264 3.697z"/>
            </svg>
            YouTube Studio
        </div>
        <div class="navbar-search">
            <input type="text" placeholder="Buscar crendes">
        </div>
        <div class="navbar-menu">
            <a href="#">Panel de control</a>
            <a href="#">ContenÃ­do</a>
            <a href="#">AnalÃ­ticas</a>
            <a href="#">Comentarios</a>
            <a href="#" class="active">MonetizaciÃ³n</a>
        </div>
        <!-- å¤´åƒå®¹å™¨ - æ–°å¢/ä¿®æ”¹ -->
        <div class="navbar-profile-container">
            <!-- é»˜è®¤å¤´åƒï¼ˆå¯æ›¿æ¢ä¸ºä½ çš„å›¾ç‰‡é“¾æ¥ï¼‰ -->
            <img src="https://via.placeholder.com/32" alt="Perfil" class="navbar-profile" id="profile-img">
            <!-- å¤´åƒä¸Šä¼ æŒ‰é’® -->
            <div class="profile-upload-btn" id="upload-btn">Cambiar foto de perfil</div>
            <input type="file" id="profile-input" accept="image/*">
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <!-- æ ‡ç­¾é¡µåˆ‡æ¢ï¼ˆæ•´åˆä¸¤ä¸ªé¢æ¿ï¼‰ -->
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="tab1">MonetizaciÃ³n</button>
                <button class="tab-btn" data-tab="tab2">AnÃ¡lisis de canal</button>
            </div>

            <!-- é¢æ¿1ï¼šMonetizaciÃ³n -->
            <div class="tab-content active" id="tab1">
                <h2 style="margin-bottom: 20px;">Tus ingresos estimados</h2>
                
                <!-- æ—¶é—´ç­›é€‰å™¨ -->
                <div class="time-filter">
                    <label for="start-date-1">Fecha inicio:</label>
                    <input type="date" id="start-date-1" value="2024-03-01">
                    <label for="end-date-1">Fecha fin:</label>
                    <input type="date" id="end-date-1" value="2024-06-06">
                    <button id="apply-date-1">Aplicar</button>
                </div>

                <!-- æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡ -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="label">Ingresos estimados</div>
                        <div class="value" id="revenue-1">US$3,254.89</div>
                        <div class="unit">Total</div>
                        <button class="edit-btn" data-target="revenue-1">Editar</button>
                    </div>
                    <div class="summary-card">
                        <div class="label">Reproducciones con ingresos</div>
                        <div class="value" id="views-1">678.4K</div>
                        <div class="unit">Vistas</div>
                        <button class="edit-btn" data-target="views-1">Editar</button>
                    </div>
                    <div class="summary-card">
                        <div class="label">CPM (Costo por mil)</div>
                        <div class="value" id="cpm-1">US$8.76</div>
                        <div class="unit">USD/mil vistas</div>
                        <button class="edit-btn" data-target="cpm-1">Editar</button>
                    </div>
                    <div class="summary-card">
                        <div class="label">RPM (Ingresos por mil)</div>
                        <div class="value" id="rpm-1">US$4.32</div>
                        <div class="unit">USD/mil vistas</div>
                        <button class="edit-btn" data-target="rpm-1">Editar</button>
                    </div>
                </div>

                <!-- å›¾è¡¨å®¹å™¨ -->
                <div class="chart-container">
                    <canvas id="chart-1"></canvas>
                </div>

                <!-- æ”¶ç›Šæ¥æº -->
                <div class="revenue-sources">
                    <h3>Principales fuentes de ingreso</h3>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ¬</div>
                            <span>Fondo de YouTube Shorts</span>
                        </div>
                        <div class="value" id="shorts-revenue-1">US$1,290.45</div>
                    </div>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ“¢</div>
                            <span>Ingresos por anuncios</span>
                        </div>
                        <div class="value" id="ads-revenue-1">US$1,540.32</div>
                    </div>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ‘¥</div>
                            <span>Miembros del canal</span>
                        </div>
                        <div class="value" id="members-revenue-1">US$315.22</div>
                    </div>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ’¬</div>
                            <span>Super Chat y Super Stickers</span>
                        </div>
                        <div class="value" id="superchat-revenue-1">US$108.90</div>
                    </div>
                </div>
            </div>

            <!-- é¢æ¿2ï¼šAnÃ¡lisis de canal -->
            <div class="tab-content" id="tab2">
                <h2 style="margin-bottom: 20px;">AnÃ¡lisis de los canal - Ingresos</h2>
                
                <!-- æ—¶é—´ç­›é€‰å™¨ -->
                <div class="time-filter">
                    <label for="start-date-2">Fecha inicio:</label>
                    <input type="date" id="start-date-2" value="2024-03-22">
                    <label for="end-date-2">Fecha fin:</label>
                    <input type="date" id="end-date-2" value="2024-04-18">
                    <button id="apply-date-2">Aplicar</button>
                </div>

                <!-- æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡ -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="label">Ingresos estimados</div>
                        <div class="value" id="revenue-2">$3,482.56</div>
                        <div class="unit">Ãšltimos 28 dÃ­as</div>
                        <button class="edit-btn" data-target="revenue-2">Editar</button>
                    </div>
                    <div class="summary-card">
                        <div class="label">RPM (Ingresos por mil)</div>
                        <div class="value" id="rpm-2">$7.89</div>
                        <div class="unit">USD/mil vistas</div>
                        <button class="edit-btn" data-target="rpm-2">Editar</button>
                    </div>
                    <div class="summary-card">
                        <div class="label">CPM (Costo por mil)</div>
                        <div class="value" id="cpm-2">$15.32</div>
                        <div class="unit">USD/mil vistas</div>
                        <button class="edit-btn" data-target="cpm-2">Editar</button>
                    </div>
                </div>

                <!-- å›¾è¡¨å®¹å™¨ -->
                <div class="chart-container">
                    <canvas id="chart-2"></canvas>
                </div>

                <!-- æ”¶ç›Šæ¥æº -->
                <div class="revenue-sources">
                    <h3>Detalles de ingresos</h3>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ’³</div>
                            <span>Ingresos por transacciones (Super Chats y membresÃ­as)</span>
                        </div>
                        <div class="value" id="transactions-revenue-2">$125.40</div>
                    </div>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ¬</div>
                            <span>Ingresos de Shorts</span>
                        </div>
                        <div class="value" id="shorts-revenue-2">$982.34</div>
                    </div>
                    <div class="revenue-source-item">
                        <div class="name">
                            <div class="icon">ğŸ“¢</div>
                            <span>Ingresos de anuncios</span>
                        </div>
                        <div class="value" id="ads-revenue-2">$2,142.13</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¿®æ”¹é‡‘é¢çš„å¼¹çª— -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <h3>Editar valor</h3>
            <input type="text" id="edit-input" placeholder="Ingresa el nuevo valor (ej: 3254.89)">
            <div class="modal-buttons">
                <button class="modal-cancel" id="modal-cancel">Cancelar</button>
                <button class="modal-save" id="modal-save">Guardar</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡ï¼šå­˜å‚¨å½“å‰ç¼–è¾‘çš„å…ƒç´ ID
        let currentEditTarget = '';
        
        // ========== æ–°å¢ï¼šå¤´åƒä¸Šä¼ åŠŸèƒ½ ==========
        const profileImg = document.getElementById('profile-img');
        const profileInput = document.getElementById('profile-input');
        const uploadBtn = document.getElementById('upload-btn');

        // ç‚¹å‡»"æ›´æ¢å¤´åƒ"æŒ‰é’®è§¦å‘æ–‡ä»¶é€‰æ‹©
        uploadBtn.addEventListener('click', () => {
            profileInput.click();
        });

        // é€‰æ‹©å›¾ç‰‡åæ›´æ–°å¤´åƒ
        profileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                // éªŒè¯æ–‡ä»¶ç±»å‹ä¸ºå›¾ç‰‡
                if (!file.type.startsWith('image/')) {
                    alert('Por favor selecciona un archivo de imagen vÃ¡lido (JPG, PNG, etc.)');
                    return;
                }
                // å°†æœ¬åœ°å›¾ç‰‡è½¬ä¸ºURLæ˜¾ç¤º
                const reader = new FileReader();
                reader.onload = (event) => {
                    profileImg.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // ========== åŸæœ‰åŠŸèƒ½é€»è¾‘ ==========
        // 1. æ ‡ç­¾é¡µåˆ‡æ¢åŠŸèƒ½
        const tabBtns = document.querySelectorAll('.tab-btn');
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
                tabBtns.forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                // æ·»åŠ å½“å‰activeçŠ¶æ€
                btn.classList.add('active');
                const tabId = btn.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
                // åˆ‡æ¢åé‡æ–°æ¸²æŸ“å¯¹åº”å›¾è¡¨
                if (tabId === 'tab1') renderChart1();
                if (tabId === 'tab2') renderChart2();
            });
        });

        // 2. å¼¹çª—åŠŸèƒ½ï¼ˆç¼–è¾‘é‡‘é¢ï¼‰
        const modal = document.getElementById('edit-modal');
        const editBtns = document.querySelectorAll('.edit-btn');
        const modalCancel = document.getElementById('modal-cancel');
        const modalSave = document.getElementById('modal-save');
        const editInput = document.getElementById('edit-input');

        // æ‰“å¼€å¼¹çª—
        editBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                currentEditTarget = btn.getAttribute('data-target');
                // è·å–å½“å‰å€¼ï¼ˆå»é™¤è´§å¸ç¬¦å·å’Œåƒåˆ†ä½ï¼‰
                const currentValue = document.getElementById(currentEditTarget).textContent
                    .replace(/[^\d.]/g, '');
                editInput.value = currentValue;
                modal.style.display = 'flex';
            });
        });

        // å…³é—­å¼¹çª—ï¼ˆå–æ¶ˆï¼‰
        modalCancel.addEventListener('click', () => {
            modal.style.display = 'none';
            editInput.value = '';
            currentEditTarget = '';
        });

        // ä¿å­˜ä¿®æ”¹
        modalSave.addEventListener('click', () => {
            if (!currentEditTarget || !editInput.value) return;
            
            // æ ¼å¼åŒ–æ•°å€¼ï¼ˆæ·»åŠ è´§å¸ç¬¦å·å’Œåƒåˆ†ä½ï¼‰
            const rawValue = parseFloat(editInput.value);
            if (isNaN(rawValue)) {
                alert('Por favor ingresa un nÃºmero vÃ¡lido');
                return;
            }

            // æ ¹æ®ä¸åŒé¢æ¿æ ¼å¼åŒ–è´§å¸ç¬¦å·ï¼ˆUS$ æˆ– $ï¼‰
            let formattedValue;
            if (currentEditTarget.includes('1')) {
                formattedValue = `US$${rawValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else {
                formattedValue = `$${rawValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            }

            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById(currentEditTarget).textContent = formattedValue;
            
            // é‡æ–°æ¸²æŸ“å¯¹åº”å›¾è¡¨
            if (currentEditTarget.includes('1')) renderChart1();
            if (currentEditTarget.includes('2')) renderChart2();

            // å…³é—­å¼¹çª—
            modal.style.display = 'none';
            editInput.value = '';
            currentEditTarget = '';
        });

        // 3. æ—¶é—´ç­›é€‰åŠŸèƒ½
        document.getElementById('apply-date-1').addEventListener('click', () => {
            const start = document.getElementById('start-date-1').value;
            const end = document.getElementById('end-date-1').value;
            if (start && end && new Date(start) > new Date(end)) {
                alert('La fecha de inicio no puede ser posterior a la fecha fin');
                return;
            }
            renderChart1(); // é‡æ–°æ¸²æŸ“å›¾è¡¨
        });

        document.getElementById('apply-date-2').addEventListener('click', () => {
            const start = document.getElementById('start-date-2').value;
            const end = document.getElementById('end-date-2').value;
            if (start && end && new Date(start) > new Date(end)) {
                alert('La fecha de inicio no puede ser posterior a la fecha fin');
                return;
            }
            renderChart2(); // é‡æ–°æ¸²æŸ“å›¾è¡¨
        });

        // 4. å›¾è¡¨æ¸²æŸ“å‡½æ•°ï¼ˆé¢æ¿1ï¼‰
        let chart1 = null;
        function renderChart1() {
            const ctx = document.getElementById('chart-1').getContext('2d');
            
            // è·å–å½“å‰ç­›é€‰çš„æ—¶é—´èŒƒå›´
            const startDate = document.getElementById('start-date-1').value;
            const endDate = document.getElementById('end-date-1').value;
            
            // ç”Ÿæˆæ—¶é—´è½´æ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…å¯æ ¹æ®æ—¶é—´èŒƒå›´åŠ¨æ€ç”Ÿæˆï¼‰
            const labels = ['mar. 2024', 'abr. 2024', 'may. 2024', 'jun. 2024'];
            // æ¨¡æ‹Ÿæ ¹æ®æ€»æ”¶ç›ŠåŠ¨æ€ç”Ÿæˆçš„å›¾è¡¨æ•°æ®ï¼ˆæ¯”ä¾‹ä¿æŒä¸€è‡´ï¼‰
            const totalRevenue = parseFloat(document.getElementById('revenue-1').textContent.replace(/[^\d.]/g, ''));
            const ingresosData = [
                totalRevenue * 0.1, 
                totalRevenue * 0.2, 
                totalRevenue * 0.8, 
                totalRevenue * 0.7
            ];
            const shortsData = [
                totalRevenue * 0.05, 
                totalRevenue * 0.1, 
                totalRevenue * 0.3, 
                totalRevenue * 0.25
            ];

            // é”€æ¯æ—§å›¾è¡¨ï¼ˆé¿å…é‡å¤æ¸²æŸ“ï¼‰
            if (chart1) chart1.destroy();
            
            // åˆ›å»ºæ–°å›¾è¡¨
            chart1 = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Ingresos estimades',
                            data: ingresosData,
                            borderColor: '#1a73e8',
                            backgroundColor: 'rgba(26, 115, 232, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Fondo Shorts',
                            data: shortsData,
                            borderColor: '#34a853',
                            backgroundColor: 'rgba(52, 168, 83, 0.1)',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: `Ingresos mensuales estimados (${startDate} - ${endDate})`
                        }
                    }
                }
            });
        }

        // 5. å›¾è¡¨æ¸²æŸ“å‡½æ•°ï¼ˆé¢æ¿2ï¼‰
        let chart2 = null;
        function renderChart2() {
            const ctx = document.getElementById('chart-2').getContext('2d');
            
            // è·å–å½“å‰ç­›é€‰çš„æ—¶é—´èŒƒå›´
            const startDate = document.getElementById('start-date-2').value;
            const endDate = document.getElementById('end-date-2').value;
            
            // ç”Ÿæˆæ—¶é—´è½´æ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼‰
            const labels = ['23 mar', '30 mar', '6 abr', '12 abr', '18 abr'];
            // æ¨¡æ‹Ÿæ ¹æ®æ€»æ”¶ç›ŠåŠ¨æ€ç”Ÿæˆçš„å›¾è¡¨æ•°æ®
            const totalRevenue = parseFloat(document.getElementById('revenue-2').textContent.replace(/[^\d.]/g, ''));
            const dailyRevenue = [
                totalRevenue * 0.05, 
                totalRevenue * 0.08, 
                totalRevenue * 0.04, 
                totalRevenue * 0.06, 
                totalRevenue * 0.12
            ];

            // é”€æ¯æ—§å›¾è¡¨
            if (chart2) chart2.destroy();
            
            // åˆ›å»ºæ–°å›¾è¡¨
            chart2 = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Ingresos diarios',
                            data: dailyRevenue,
                            backgroundColor: 'rgba(52, 168, 83, 0.7)',
                            borderColor: '#34a853',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: `Ingresos estimados diarios (${startDate} - ${endDate})`
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–ï¼šåŠ è½½é»˜è®¤å›¾è¡¨
        window.onload = function() {
            renderChart1();
            renderChart2();
        };
    </script>
</body>
</html>